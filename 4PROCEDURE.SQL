SET SERVEROUTPUT ON;
CREATE OR REPLACE PROCEDURE FILTER_APPLICATION (J_ID JOB.JOB_ID%TYPE) IS
PLTFORM JOB.PLATFORM%TYPE;
TYPE PLATFORMARRAY IS VARRAY(100) OF VARCHAR2(15);
P_ARRAY PLATFORMARRAY:= PLATFORMARRAY();
LENG NUMBER(5);
CNT NUMBER(5) := 0;
INDX NUMBER(5):= 0;
X NUMBER(5):=0;
Y NUMBER(5):=0;
BEGIN
	SELECT PLATFORM INTO PLTFORM FROM JOB WHERE JOB_ID=J_ID;
	LENG :=LENGTH(PLTFORM);
	WHILE (CNT < LENG)
  LOOP
    CNT := CNT + 1;
	
	IF SUBSTR(PLTFORM, CNT,1)= ',' THEN 
	DBMS_OUTPUT.PUT_LINE('SFDSF');
	X:=Y;
	Y:=CNT;
	P_ARRAY.EXTEND;
	P_ARRAY(INDX):=SUBSTR(PLTFORM, X,Y);
	INDX:=INDX+1;
	
	END IF;
  END LOOP;

  FOR I IN 1 .. INDX
	LOOP
	DBMS_OUTPUT.PUT_LINE('VALUE'|| P_ARRAY(I));
	
	
	
	END LOOP;
	
	
  
END;
/

BEGIN
 FILTER_APPLICATION(1202);
 END;
 /